geometor.model.serialize
========================

.. py:module:: geometor.model.serialize

.. autoapi-nested-parse::

   Provides serialization functions for the Model class.

   This module is responsible for converting the complex, interconnected structure of the geometric model into a portable JSON format and reconstituting it back into a full object model. It ensures that all element relationships, metadata, and symbolic expressions are preserved during the save/load process.



Classes
-------

.. autoapisummary::

   geometor.model.serialize.SerializeMixin


Functions
---------

.. autoapisummary::

   geometor.model.serialize.load_model


Module Contents
---------------

.. py:class:: SerializeMixin

   Mixin for the Model class containing serialization operations.

   This mixin adds persistence capabilities to the Model class, allowing it to export its state to a file. It uses JSON as the interchange format, serializing SymPy objects into string representations that can be accurately parsed back.


   .. py:method:: save(file_path: str) -> None

      Saves a Model object to a JSON file as a list of elements.

      This method iterates through all elements in the model, serializing their symbolic definitions, parents, and metadata into a dictionary structure. It uses SymPy's srepr for robust expression serialization and writes the result to the specified file path.

      :param file_path: The path where the JSON file will be saved.



.. py:function:: load_model(file_path: str, logger: logging.Logger | None = None) -> geometor.model.Model

   Loads a model from a JSON file and returns a new Model instance.

   This function reads a JSON file containing serialized model data and reconstructs a :class:`geometor.model.Model` object. It performs a two-pass process: first parsing all symbolic expressions to recreate the geometry objects, and then linking them with their parents and metadata to restore the full dependency graph.

   :param file_path: The path to the JSON file to load.
   :param logger: An optional logger instance to attach to the new model.

   :returns: A new :class:`geometor.model.Model` instance populated with the loaded data.


