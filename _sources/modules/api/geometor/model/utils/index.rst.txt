geometor.model.utils
====================

.. py:module:: geometor.model.utils

.. autoapi-nested-parse::

   Provides utility functions for the Model class.

   This module collects general-purpose utility functions used throughout the package. It includes tools for symbolic expression simplification (cleaning), point comparison and sorting, and logging setup.



Functions
---------

.. autoapisummary::

   geometor.model.utils.clean_expr
   geometor.model.utils.spread
   geometor.model.utils.compare_points
   geometor.model.utils.point_value
   geometor.model.utils.sort_points
   geometor.model.utils.log_init
   geometor.model.utils.print_log
   geometor.model.utils.elapsed


Module Contents
---------------

.. py:function:: clean_expr(expr: sympy.Expr) -> sympy.Expr

   Simplify and denest SymPy expressions.

   This function applies a standard set of simplification routines to symbolic expressions, specifically targeting the simplification of square roots and nested radicals which are common in constructive geometry.

   :param expr: The SymPy expression to clean.

   :returns: The simplified expression.


.. py:function:: spread(l1: sympy.geometry.Line, l2: sympy.geometry.Line) -> sympy.Expr

   Calculate the spread of two lines.

   The spread is a rational invariant of two lines, equivalent to the square of the sine of the angle between them. It is a fundamental concept in rational trigonometry.

   :param l1: The first line.
   :param l2: The second line.

   :returns: The spread as a symbolic expression.


.. py:function:: compare_points(pt1: sympy.geometry.Point, pt2: sympy.geometry.Point) -> int

   Compare two points for sorting.

   This comparison function orders points primarily by their x-coordinates and secondarily by their y-coordinates. It returns 1 if pt1 > pt2, -1 if pt1 < pt2, and 0 if they are equal.

   :param pt1: The first point.
   :param pt2: The second point.

   :returns: An integer indicating the relative order (-1, 0, 1).


.. py:function:: point_value(pt: sympy.geometry.Point) -> tuple[float, float]

   Get the numerical coordinates of a point.

   This helper extracts the floating-point values of a point's x and y coordinates, suitable for use in sorting keys or numerical comparisons.

   :param pt: The point to evaluate.

   :returns: A tuple of (x, y) floats.


.. py:function:: sort_points(pts: list[sympy.geometry.Point]) -> list[sympy.geometry.Point]

   Sort a list of points.

   This function sorts a list of points using the `point_value` helper as the key.

   :param pts: The list of points to sort.

   :returns: The sorted list of points.


.. py:function:: log_init(name: str) -> None

.. py:function:: print_log(txt: str = '') -> None

.. py:function:: elapsed(start_time: float) -> str

